@model PortailReserve.ViewModel.ListeEventViewModel
@{
    ViewBag.Title = "Liste événements";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section style {
    <link rel="stylesheet" href="~/Content/CSS/listeEvent.css" />    
}

<h1>Liste des événements </h1>

@if (ViewBag.Role < 4)
{
    <div class="container">
        <div class="row">
            <div class="col-2 champsTextDroit">
                <button class="bouton boutonVert" onclick="clickOn('ajoutEventListe'); "> 
                    @Html.ActionLink("Ajouter un événement", "Ajouter", "Planning", null, new { @class = "lienBoutonVert", id = "ajoutEventListe" }) 
                </button>
            </div>
        </div>
    </div>
}

<div class="container">
    <div class="row ligneSousTitre">
        <div class="col-6 text-center">
            <span id="titreAVenir" class="sousTitreEvent" style="opacity: 1;"> À venir </span>
        </div>
        <div class="col-6 text-center">
            <span id="titrePasse" class="sousTitreEvent" style="opacity: 0.5;"> Passé </span>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col-12 erreur"> @ViewBag.Erreur </div>
    </div>
</div>

<div class="container" id="aVenir" style="display: block;">
    @foreach(PortailReserve.Models.Evenement e in Model.AVenir)
    {
        <div class="row caseEvent" >
            <div class="col-8" onclick="clickOn('@e.Id'); ">
                @Html.ActionLink("Event", "Evenement", "Planning", new { id = e.Id }, new { id = e.Id, style = "display: none; " })
                <div class="row">
                    <div class="col-12 titreEvent">
                        <strong> @e.Nom </strong>
                    </div>
                </div>
                <div class="row">
                    <div class="col-3">
                        @if (e.Type.Equals("Instruction"))
                        {
                            <img src="~/Content/image/point_vert.png" alt="point vert" class="pastilleType" />
                        }
                        else if (e.Type.Equals("Stage"))
                        {
                            <img src="~/Content/image/point_bleu.png" alt="point bleu" class="pastilleType" />
                        }
                        else if (e.Type.Equals("Mission"))
                        {
                            <img src="~/Content/image/point_rouge.png" alt="point rouge" class="pastilleType" />
                        }
                        else if (e.Type.Equals("Exercice"))
                        {
                            <img src="~/Content/image/point_jaune.png" alt="point jaune" class="pastilleType" />
                        }
                        else
                        {
                            <img src="~/Content/image/point_vert.png" alt="point vert" class="pastilleType" />
                        }
                    </div>
                    <div class="col-9 typeEvent">
                        @e.Type
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 dateEvent">
                        Du @e.Debut.ToString("D", new System.Globalization.CultureInfo("fr-FR")) au @e.Fin.ToString("D", new System.Globalization.CultureInfo("fr-FR"))
                    </div>
                </div>
            </div>
            @if (ViewBag.Role < 4)
            {
                <div class="col-4">
                    <a href="/Planning/Supprimer/@e.Id" ><img src="~/Content/image/icone_supprimer.png" alt="Supprimer" class="iconeSupp" /></a>
                </div>
            }
        </div>
    }
</div>

<div class="container" id="passe" style="display: none;">
    @foreach (PortailReserve.Models.Evenement e in Model.Passe)
    {
    <div class="row caseEvent" >
        <div class="col-8" onclick="clickOn('@e.Id'); ">
            @Html.ActionLink("Event", "Evenement", "Planning", new { id = e.Id }, new { id = e.Id, style = "display: none; " })
            <div class="row">
                <div class="col-12 titreEvent">
                    <strong> @e.Nom </strong>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    @if (e.Type.Equals("Instruction"))
                    {
                        <img src="~/Content/image/point_vert.png" alt="point vert" class="pastilleType" />
                    }
                    else if (e.Type.Equals("Stage"))
                    {
                        <img src="~/Content/image/point_bleu.png" alt="point bleu" class="pastilleType" />
                    }
                    else if (e.Type.Equals("Mission"))
                    {
                        <img src="~/Content/image/point_rouge.png" alt="point rouge" class="pastilleType" />
                    }
                    else if (e.Type.Equals("Exercice"))
                    {
                        <img src="~/Content/image/point_jaune.png" alt="point jaune" class="pastilleType" />
                    }
                </div>
                <div class="col-9 typeEvent">
                    @e.Type
                </div>
            </div>
            <div class="row">
                <div class="col-12 dateEvent">
                    Du @e.Debut.ToString("D", new System.Globalization.CultureInfo("fr-FR")) au @e.Fin.ToString("D", new System.Globalization.CultureInfo("fr-FR"))
                </div>
            </div>
        </div>
        @if (ViewBag.Role < 4)
        {
            <div class="col-4">
                <a href="/Planning/Supprimer/@e.Id" ><img src="~/Content/image/icone_supprimer.png" alt="Supprimer" class="iconeSupp"/></a>
            </div>
        }
    </div>
    }
</div>

@section scripts {
    <script src="~/Content/JavaScript/listeEvent.js"></script>    
}

